## Функциональность монолитного приложения

1. **Управление отоплением:**
    - **Удалённое управление:** Пользователи могут включать/выключать отопление.
    - **Установка температуры:** Пользователи устанавливают желаемую температуру.
    - **Автоматическое поддержание:** Система автоматически регулирует подачу тепла для поддержания заданной температуры.

2. **Мониторинг температуры:**
    - **Получение данных:** Система получает данные о температуре с датчиков.
    - **Просмотр температуры:** Пользователи могут просматривать текущую температуру через веб-интерфейс.

## Архитектура монолитного приложения

- **Язык программирования:** Java
- **База данных:** PostgreSQL
- **Архитектура:** Монолитная
    - Все компоненты системы (обработка запросов, бизнес-логика, работа с данными) находятся в рамках одного приложения.
- **Взаимодействие:** Синхронное, запросы обрабатываются последовательно.
- **Масштабируемость:** Ограничена, сложно масштабировать по частям.
- **Развертывание:** Требует остановки всего приложения для развертывания новых версий.

## Сильные стороны текущей системы:

- **Единое приложение:** Простота управления кодом и развертывания для малого количества пользователей.
- **Управление отоплением и мониторинг температуры в одной системе:** Комплексное решение для управления климатом в доме.

## Слабые стороны текущей системы:

- **Масштабируемость:** Ограниченная возможность масштабирования.
- **Развертывание:** Необходимость остановки всего приложения при обновлении.
- **Гибкость:** Ограниченная гибкость в изменении отдельных компонентов системы.
- **Самостоятельное подключение:** Пользователи не могут самостоятельно подключить свои датчики к системе.

## Применение принципов Domain-Driven Design (DDD)

Для успешного перехода на микросервисную архитектуру с использованием принципов DDD необходимо выполнить следующие шаги:

### 1. Определение доменов и границ контекстов

#### 1.1. Домен "Управление устройствами"
- **Описание:**
  Этот домен охватывает все аспекты управления устройствами в системе умного дома, включая функции управления отоплением, освещением, автоматическими воротами и другими подключаемыми устройствами.
- **Основные функции:**
   - Управление устройствами (включение/выключение, настройка параметров, автоматизация).
   - Мониторинг состояния устройств в реальном времени.
   - Настройка сценариев автоматизации, которые управляют устройствами в зависимости от определенных условий.
- **Границы контекста:**
   - **Контекст "Управление отоплением":** Включает управление системой отопления, настройку температуры и мониторинг состояния.
   - **Контекст "Управление освещением":** Включает управление световыми приборами и настройку режимов освещения.
   - **Контекст "Управление воротами":** Включает управление автоматическими воротами, включая функции открытия/закрытия.
   - **Контекст "Управление другими устройствами":** Включает работу с другими устройствами (камеры, датчики и пр.).

#### 1.2. Домен "Пользователи и управление доступом"
- **Описание:**
  Этот домен отвечает за управление пользователями системы, их регистрацией, аутентификацией и авторизацией, а также за управление правами доступа к различным устройствам и функциям.
- **Основные функции:**
   - Регистрация и аутентификация пользователей.
   - Управление ролями и правами доступа.
   - Ведение логов активности пользователей и контроль доступа.
- **Границы контекста:**
   - **Контекст "Управление пользователями":** Включает регистрацию, аутентификацию и управление профилями пользователей.
   - **Контекст "Управление доступом":** Включает управление ролями и правами доступа пользователей к различным устройствам и функциям системы.

#### 1.3. Домен "Устройства и интеграции"
- **Описание:**
  Этот домен отвечает за работу с физическими устройствами (датчиками, контроллерами и пр.), их регистрацией в системе и обеспечением взаимодействия с другими компонентами.
- **Основные функции:**
   - Регистрация и конфигурация устройств (датчиков, контроллеров).
   - Сбор данных от устройств и передача их в соответствующие контексты.
   - Обеспечение интеграции с устройствами сторонних производителей по стандартным протоколам.
- **Границы контекста:**
   - **Контекст "Регистрация и настройка устройств":** Включает процесс добавления новых устройств в систему и их конфигурацию.
   - **Контекст "Интеграция с внешними устройствами":** Включает работу с устройствами сторонних производителей и обеспечение их совместимости с системой.

### 2. Создание контекстов

Каждый домен выделяется в отдельный контекст, что позволяет управлять ими независимо друг от друга. Это обеспечивает модульность и гибкость системы, упрощает развитие и поддержку, а также повышает масштабируемость.

- **Контекст "Управление отоплением"** — отвечает за управление отоплением и связанными функциями, включая мониторинг и автоматизацию.
- **Контекст "Управление пользователями"** — отвечает за управление пользователями, их регистрацией, аутентификацией и правами доступа.
- **Контекст "Регистрация и настройка устройств"** — отвечает за добавление и настройку новых устройств, а также их взаимодействие с системой.

### 3. Интеграция и взаимодействие контекстов

- Контексты будут взаимодействовать между собой через API или события, что позволит сохранять независимость между ними, минимизируя взаимозависимость.
- Вся система будет опираться на стандартизированные протоколы для взаимодействия с устройствами, обеспечивая возможность подключения устройств разных производителей.

### 4. Архитектурные принципы

- **Модульность:** Каждому домену соответствует отдельный микросервис, что позволяет развивать и развертывать их независимо.
- **Масштабируемость:** Каждый контекст может масштабироваться независимо от других, что повышает эффективность использования ресурсов.
- **Отказоустойчивость:** Разделение на микросервисы позволяет повысить отказоустойчивость системы, так как сбои в одном контексте не влияют на работу других.

### 5. [Визуализация контекста системы](System%20Context%20diagram.puml)