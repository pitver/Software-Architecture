# Описание диаграммы компонентов

### [Визуализация компонентов](../Components%20diagram.puml)

## Сервис Управления Устройствами (Device Management Service)
- **API Component**: Обрабатывает HTTP-запросы и маршрутизирует их к соответствующим обработчикам.
- **Command Processor**: Обрабатывает команды для управления устройствами.
- **Device State Manager**: Управляет состоянием устройств и взаимодействует с базой данных.
- **Event Publisher**: Публикует события изменения состояния устройства в Kafka.
- **Device Database**: Хранит состояния и метаданные устройств.

## Сервис Автоматизации (Automation Service)
- **API Component**: Обрабатывает HTTP-запросы, связанные с автоматизацией.
- **Rule Engine**: Оценивает условия и запускает действия на основе правил.
- **Scheduler**: Управляет расписанием выполнения задач автоматизации и может триггерить действия.
- **Event Subscriber**: Подписывается на события устройств из Kafka.
- **Action Dispatcher**: Отправляет команды другим сервисам для выполнения действий.

## Сервис Мониторинга (Monitoring Service)
- **API Component**: Обрабатывает запросы на получение статуса устройств.
- **Data Collector**: Собирает данные с устройств и датчиков.
- **Data Processor**: Обрабатывает и фильтрует собранные данные.
- **Event Publisher**: Публикует события с данными мониторинга в Kafka.

## Kafka
- **Message Broker**: Шина данных для обмена сообщениями между сервисами. Используется для публикации и подписки на события.
