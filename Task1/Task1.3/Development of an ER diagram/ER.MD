### Описание ER-диаграммы
### [Визуализация ER](Entity-Relationship%20Diagram.puml)

#### **User (Пользователь)**
Представляет пользователя системы умного дома.

- **Атрибуты:**
  - `id` (UUID) — Уникальный идентификатор пользователя.
  - `name` (String) — Имя пользователя.
  - `email` (String) — Электронная почта пользователя.
  - `password_hash` (String) — Хеш пароля пользователя.
  - `created_at` (DateTime) — Дата и время создания пользователя.
  - `updated_at` (DateTime) — Дата и время последнего обновления информации о пользователе.

- **Связь:**
  - Один пользователь может владеть несколькими домами (`House`).

#### **House (Дом)**
Представляет дом, к которому привязаны устройства.

- **Атрибуты:**
  - `id` (UUID) — Уникальный идентификатор дома.
  - `name` (String) — Название дома.
  - `type_id` (UUID) — Внешний ключ на сущность `HouseType`, определяющий тип дома.
  - `user_id` (UUID) — Внешний ключ на сущность `User`, указывающий владельца дома.
  - `created_at` (DateTime) — Дата и время создания записи о доме.
  - `updated_at` (DateTime) — Дата и время последнего обновления информации о доме.

- **Связь:**
  - Один дом принадлежит одному пользователю (`User`), но может содержать несколько устройств (`Device`).

#### **HouseType (Тип дома)**
Описывает тип дома.

- **Атрибуты:**
  - `id` (UUID) — Уникальный идентификатор типа дома.
  - `name` (String) — Название типа дома.
  - `description` (String) — Описание типа дома.

- **Связь:**
  - Один тип дома (`HouseType`) может быть связан с несколькими домами (`House`).

#### **Device (Устройство)**
Представляет умное устройство в системе.

- **Атрибуты:**
  - `id` (UUID) — Уникальный идентификатор устройства.
  - `serial_number` (String) — Серийный номер устройства.
  - `type_id` (UUID) — Внешний ключ на сущность `DeviceType`, определяющий тип устройства.
  - `house_id` (UUID) — Внешний ключ на сущность `House`, указывающий, к какому дому привязано устройство.
  - `status` (String) — Текущий статус устройства.
  - `created_at` (DateTime) — Дата и время создания устройства.
  - `updated_at` (DateTime) — Дата и время последнего обновления информации об устройстве.

- **Связь:**
  - Каждое устройство привязано к одному дому (`House`) и может иметь несколько связанных модулей (`Module`).

#### **DeviceType (Тип устройства)**
Описывает тип устройства.

- **Атрибуты:**
  - `id` (UUID) — Уникальный идентификатор типа устройства.
  - `name` (String) — Название типа устройства.
  - `description` (String) — Описание типа устройства.

- **Связь:**
  - Один тип устройства (`DeviceType`) может быть связан с несколькими устройствами (`Device`).

#### **Module (Модуль)**
Представляет отдельный модуль устройства (например, датчик, исполнительный механизм).

- **Атрибуты:**
  - `id` (UUID) — Уникальный идентификатор модуля.
  - `name` (String) — Название модуля.
  - `device_id` (UUID) — Внешний ключ на сущность `Device`, указывающий, к какому устройству относится модуль.
  - `status` (String) — Текущий статус модуля.
  - `created_at` (DateTime) — Дата и время создания модуля.
  - `updated_at` (DateTime) — Дата и время последнего обновления информации о модуле.

- **Связь:**
  - Один модуль (`Module`) связан с одним устройством (`Device`).

#### **TelemetryData (Телеметрия)**
Сохраняет данные, генерируемые устройством.

- **Атрибуты:**
  - `id` (UUID) — Уникальный идентификатор записи телеметрии.
  - `device_id` (UUID) — Внешний ключ на сущность `Device`, указывающий, какое устройство сгенерировало данные.
  - `timestamp` (DateTime) — Время создания записи телеметрии.
  - `data` (JSON) — Телеметрические данные в формате JSON.
  - `created_at` (DateTime) — Дата и время создания записи телеметрии.

- **Связь:**
  - Одно устройство (`Device`) может генерировать множество записей телеметрии (`TelemetryData`).

### Взаимосвязи:

- **User** имеет несколько **House** (один ко многим).
- **HouseType** определяет несколько **House** (один ко многим).
- **House** содержит несколько **Device** (один ко многим).
- **Device** имеет несколько **Module** (один ко многим).
- **Device** генерирует множество записей **TelemetryData** (один ко многим).
- **DeviceType** может быть связан с несколькими **Device** (один ко многим).

